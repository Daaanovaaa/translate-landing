<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Translate This Newsletter</title>
</head>
<body>
  <h1>🌍 Translate This Newsletter</h1>
  <p>Click the button below to translate the email in your preferred language.</p>
  <button id="translateBtn">Translate This Email</button>

  <script>
    // Get language from URL, default to auto
    const urlParams = new URLSearchParams(window.location.search);
    const lang = urlParams.get('lang') || 'auto';

    const btn = document.getElementById('translateBtn');
    btn.addEventListener('click', () => {
      // Mailchimp view-in-browser link
      const archiveUrl = "*|ARCHIVE|*";

      // Copy to clipboard
      navigator.clipboard.writeText(archiveUrl).then(() => {
        console.log("View in browser link copied!");
      });

      // Open Google Translate in selected language
      const translateUrl = `https://translate.google.com/translate?sl=auto&tl=${lang}&u=${encodeURIComponent(archiveUrl)}`;
      window.open(translateUrl, '_blank');
    });
  </script>
</body>
</html>
